///
/// Auto-generated by Stone, do not modify.
///

#import "DbxFilesFileMetadata.h"
#import "DbxFilesFileSharingInfo.h"
#import "DbxFilesMediaInfo.h"
#import "DbxFilesMetadata.h"
#import "DbxPropertiesPropertyGroup.h"
#import "DbxStoneSerializers.h"
#import "DbxStoneValidators.h"

@implementation DbxFilesFileMetadata 

- (instancetype)initWithName:(NSString *)name id_:(NSString *)id_ clientModified:(NSDate *)clientModified serverModified:(NSDate *)serverModified rev:(NSString *)rev size:(NSNumber *)size pathLower:(NSString *)pathLower pathDisplay:(NSString *)pathDisplay parentSharedFolderId:(NSString *)parentSharedFolderId mediaInfo:(DbxFilesMediaInfo *)mediaInfo sharingInfo:(DbxFilesFileSharingInfo *)sharingInfo propertyGroups:(NSArray<DbxPropertiesPropertyGroup *> *)propertyGroups hasExplicitSharedMembers:(NSNumber *)hasExplicitSharedMembers {
    [DbxStoneValidators stringValidator:[NSNumber numberWithInt:1] maxLength:nil pattern:nil](id_);
    [DbxStoneValidators stringValidator:[NSNumber numberWithInt:9] maxLength:nil pattern:@"[0-9a-f]+"](rev);
    [DbxStoneValidators nullableValidator:[DbxStoneValidators stringValidator:nil maxLength:nil pattern:@"[-_0-9a-zA-Z:]+"]](parentSharedFolderId);
    [DbxStoneValidators nullableValidator:[DbxStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil]](propertyGroups);

    self = [super initWithName:name pathLower:pathLower pathDisplay:pathDisplay parentSharedFolderId:parentSharedFolderId];
    if (self != nil) {
        _id_ = id_;
        _clientModified = clientModified;
        _serverModified = serverModified;
        _rev = rev;
        _size = size;
        _mediaInfo = mediaInfo;
        _sharingInfo = sharingInfo;
        _propertyGroups = propertyGroups;
        _hasExplicitSharedMembers = hasExplicitSharedMembers;
    }
    return self;
}

- (instancetype)initWithName:(NSString *)name id_:(NSString *)id_ clientModified:(NSDate *)clientModified serverModified:(NSDate *)serverModified rev:(NSString *)rev size:(NSNumber *)size {
    return [self initWithName:name id_:id_ clientModified:clientModified serverModified:serverModified rev:rev size:size pathLower:nil pathDisplay:nil parentSharedFolderId:nil mediaInfo:nil sharingInfo:nil propertyGroups:nil hasExplicitSharedMembers:nil];
}

+ (NSDictionary *)serialize:(id)obj {
    return [DbxFilesFileMetadataSerializer serialize:obj];
}

+ (id)deserialize:(NSDictionary *)dict {
    return [DbxFilesFileMetadataSerializer deserialize:dict];
}

- (NSString *)description {
    return [[DbxFilesFileMetadataSerializer serialize:self] description];
}

@end


@implementation DbxFilesFileMetadataSerializer 

+ (NSDictionary *)serialize:(DbxFilesFileMetadata *)valueObj {
    NSMutableDictionary *jsonDict = [[NSMutableDictionary alloc] init];

    jsonDict[@"name"] = [DbxStringSerializer serialize:valueObj.name];
    jsonDict[@"id"] = [DbxStringSerializer serialize:valueObj.id_];
    jsonDict[@"client_modified"] = [DbxNSDateSerializer serialize:valueObj.clientModified dateFormat:@"%Y-%m-%dT%H:%M:%SZ"];
    jsonDict[@"server_modified"] = [DbxNSDateSerializer serialize:valueObj.serverModified dateFormat:@"%Y-%m-%dT%H:%M:%SZ"];
    jsonDict[@"rev"] = [DbxStringSerializer serialize:valueObj.rev];
    jsonDict[@"size"] = [DbxNSNumberSerializer serialize:valueObj.size];
    if (valueObj.pathLower != nil) {
        jsonDict[@"path_lower"] = [DbxStringSerializer serialize:valueObj.pathLower];
    }
    if (valueObj.pathDisplay != nil) {
        jsonDict[@"path_display"] = [DbxStringSerializer serialize:valueObj.pathDisplay];
    }
    if (valueObj.parentSharedFolderId != nil) {
        jsonDict[@"parent_shared_folder_id"] = [DbxStringSerializer serialize:valueObj.parentSharedFolderId];
    }
    if (valueObj.mediaInfo != nil) {
        jsonDict[@"media_info"] = [DbxFilesMediaInfoSerializer serialize:valueObj.mediaInfo];
    }
    if (valueObj.sharingInfo != nil) {
        jsonDict[@"sharing_info"] = [DbxFilesFileSharingInfoSerializer serialize:valueObj.sharingInfo];
    }
    if (valueObj.propertyGroups != nil) {
        jsonDict[@"property_groups"] = [DbxArraySerializer serialize:valueObj.propertyGroups withBlock:^id(id obj) { return [DbxPropertiesPropertyGroupSerializer serialize:obj]; }];
    }
    if (valueObj.hasExplicitSharedMembers != nil) {
        jsonDict[@"has_explicit_shared_members"] = [DbxBoolSerializer serialize:valueObj.hasExplicitSharedMembers];
    }

    return jsonDict;
}

+ (DbxFilesFileMetadata *)deserialize:(NSDictionary *)valueDict {
    NSString *name = [DbxStringSerializer deserialize:valueDict];
    NSString *id_ = [DbxStringSerializer deserialize:valueDict];
    NSDate *clientModified = [DbxNSDateSerializer deserialize:valueDict dateFormat:@"%Y-%m-%dT%H:%M:%SZ"];
    NSDate *serverModified = [DbxNSDateSerializer deserialize:valueDict dateFormat:@"%Y-%m-%dT%H:%M:%SZ"];
    NSString *rev = [DbxStringSerializer deserialize:valueDict];
    NSNumber *size = [DbxNSNumberSerializer deserialize:valueDict];
    NSString *pathLower = valueDict != nil ? [DbxStringSerializer deserialize:valueDict] : nil;
    NSString *pathDisplay = valueDict != nil ? [DbxStringSerializer deserialize:valueDict] : nil;
    NSString *parentSharedFolderId = valueDict != nil ? [DbxStringSerializer deserialize:valueDict] : nil;
    DbxFilesMediaInfo *mediaInfo = valueDict != nil ? [DbxFilesMediaInfoSerializer deserialize:valueDict] : nil;
    DbxFilesFileSharingInfo *sharingInfo = valueDict != nil ? [DbxFilesFileSharingInfoSerializer deserialize:valueDict] : nil;
    NSArray<DbxPropertiesPropertyGroup *> *propertyGroups = valueDict != nil ? [DbxArraySerializer deserialize:valueDict withBlock:^id(id obj) { return [DbxPropertiesPropertyGroupSerializer deserialize:obj]; }] : nil;
    NSNumber *hasExplicitSharedMembers = valueDict != nil ? [DbxBoolSerializer deserialize:valueDict] : nil;

    return [[DbxFilesFileMetadata alloc] initWithName:name id_:id_ clientModified:clientModified serverModified:serverModified rev:rev size:size pathLower:pathLower pathDisplay:pathDisplay parentSharedFolderId:parentSharedFolderId mediaInfo:mediaInfo sharingInfo:sharingInfo propertyGroups:propertyGroups hasExplicitSharedMembers:hasExplicitSharedMembers];
}

@end
