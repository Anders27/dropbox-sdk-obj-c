///
/// Auto-generated by Stone, do not modify.
///

#import "DBXFILESThumbnailArg.h"
#import "DBXFILESThumbnailFormat.h"
#import "DBXFILESThumbnailSize.h"
#import "DBXStoneSerializers.h"
#import "DBXStoneValidators.h"

@implementation DBXFILESThumbnailArg 

- (instancetype)initWithPath:(NSString *)path format:(DBXFILESThumbnailFormat *)format size:(DBXFILESThumbnailSize *)size {
    [DBXStoneValidators stringValidator:nil maxLength:nil pattern:@"(/(.|[\\r\\n])*|id:.*)|(rev:[0-9a-f]{9,})|(ns:[0-9]+(/.*)?)"](path);

    self = [super init];
    if (self != nil) {
        _path = path;
        _format = format ?: [[DBXFILESThumbnailFormat alloc] initWithJpeg];
        _size = size ?: [[DBXFILESThumbnailSize alloc] initWithW64h64];
    }
    return self;
}

- (instancetype)initWithPath:(NSString *)path {
    return [self initWithPath:path format:nil size:nil];
}

+ (NSDictionary *)serialize:(id)obj {
    return [DBXFILESThumbnailArgSerializer serialize:obj];
}

+ (id)deserialize:(NSDictionary *)dict {
    return [DBXFILESThumbnailArgSerializer deserialize:dict];
}

- (NSString *)description {
    return [[DBXFILESThumbnailArgSerializer serialize:self] description];
}

@end


@implementation DBXFILESThumbnailArgSerializer 

+ (NSDictionary *)serialize:(DBXFILESThumbnailArg *)valueObj {
    NSMutableDictionary *jsonDict = [[NSMutableDictionary alloc] init];

    jsonDict[@"path"] = valueObj.path;
    jsonDict[@"format"] = [DBXFILESThumbnailFormatSerializer serialize:valueObj.format];
    jsonDict[@"size"] = [DBXFILESThumbnailSizeSerializer serialize:valueObj.size];

    return jsonDict;
}

+ (DBXFILESThumbnailArg *)deserialize:(NSDictionary *)valueDict {
    NSString *path = valueDict[@"path"];
    DBXFILESThumbnailFormat *format = [DBXFILESThumbnailFormatSerializer deserialize:valueDict[@"format"]];
    DBXFILESThumbnailSize *size = [DBXFILESThumbnailSizeSerializer deserialize:valueDict[@"size"]];

    return [[DBXFILESThumbnailArg alloc] initWithPath:path format:format size:size];
}

@end
