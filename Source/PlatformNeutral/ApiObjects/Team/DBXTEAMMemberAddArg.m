///
/// Auto-generated by Stone, do not modify.
///

#import "DBXStoneSerializers.h"
#import "DBXStoneValidators.h"
#import "DBXTEAMAdminTier.h"
#import "DBXTEAMMemberAddArg.h"

@implementation DBXTEAMMemberAddArg 

- (instancetype)initWithMemberEmail:(NSString *)memberEmail memberGivenName:(NSString *)memberGivenName memberSurname:(NSString *)memberSurname memberExternalId:(NSString *)memberExternalId sendWelcomeEmail:(NSNumber *)sendWelcomeEmail role:(DBXTEAMAdminTier *)role {
    [DBXStoneValidators stringValidator:nil maxLength:[NSNumber numberWithInt:255] pattern:@"^['&A-Za-z0-9._%+-]+@[A-Za-z0-9-][A-Za-z0-9.-]*.[A-Za-z]{2,15}$"](memberEmail);
    [DBXStoneValidators stringValidator:[NSNumber numberWithInt:1] maxLength:[NSNumber numberWithInt:100] pattern:@"[^/:?*<>\"|]*"](memberGivenName);
    [DBXStoneValidators stringValidator:[NSNumber numberWithInt:1] maxLength:[NSNumber numberWithInt:100] pattern:@"[^/:?*<>\"|]*"](memberSurname);
    [DBXStoneValidators nullableValidator:[DBXStoneValidators stringValidator:nil maxLength:[NSNumber numberWithInt:64] pattern:nil]](memberExternalId);

    self = [super init];
    if (self != nil) {
        _memberEmail = memberEmail;
        _memberGivenName = memberGivenName;
        _memberSurname = memberSurname;
        _memberExternalId = memberExternalId;
        _sendWelcomeEmail = sendWelcomeEmail ?: @YES;
        _role = role ?: [[DBXTEAMAdminTier alloc] initWithMemberOnly];
    }
    return self;
}

- (instancetype)initWithMemberEmail:(NSString *)memberEmail memberGivenName:(NSString *)memberGivenName memberSurname:(NSString *)memberSurname {
    return [self initWithMemberEmail:memberEmail memberGivenName:memberGivenName memberSurname:memberSurname memberExternalId:nil sendWelcomeEmail:nil role:nil];
}

+ (NSDictionary *)serialize:(id)obj {
    return [DBXTEAMMemberAddArgSerializer serialize:obj];
}

+ (id)deserialize:(NSDictionary *)dict {
    return [DBXTEAMMemberAddArgSerializer deserialize:dict];
}

- (NSString *)description {
    return [[DBXTEAMMemberAddArgSerializer serialize:self] description];
}

@end


@implementation DBXTEAMMemberAddArgSerializer 

+ (NSDictionary *)serialize:(DBXTEAMMemberAddArg *)valueObj {
    NSMutableDictionary *jsonDict = [[NSMutableDictionary alloc] init];

    jsonDict[@"member_email"] = valueObj.memberEmail;
    jsonDict[@"member_given_name"] = valueObj.memberGivenName;
    jsonDict[@"member_surname"] = valueObj.memberSurname;
    if (valueObj.memberExternalId) {
        jsonDict[@"member_external_id"] = valueObj.memberExternalId;
    }
    jsonDict[@"send_welcome_email"] = valueObj.sendWelcomeEmail;
    jsonDict[@"role"] = [DBXTEAMAdminTierSerializer serialize:valueObj.role];

    return jsonDict;
}

+ (DBXTEAMMemberAddArg *)deserialize:(NSDictionary *)valueDict {
    NSString *memberEmail = valueDict[@"member_email"];
    NSString *memberGivenName = valueDict[@"member_given_name"];
    NSString *memberSurname = valueDict[@"member_surname"];
    NSString *memberExternalId = valueDict[@"member_external_id"] ?: nil;
    NSNumber *sendWelcomeEmail = valueDict[@"send_welcome_email"];
    DBXTEAMAdminTier *role = [DBXTEAMAdminTierSerializer deserialize:valueDict[@"role"]];

    return [[DBXTEAMMemberAddArg alloc] initWithMemberEmail:memberEmail memberGivenName:memberGivenName memberSurname:memberSurname memberExternalId:memberExternalId sendWelcomeEmail:sendWelcomeEmail role:role];
}

@end
