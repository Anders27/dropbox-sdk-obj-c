///
/// Auto-generated by Stone, do not modify.
///

#import "DBXStoneSerializers.h"
#import "DBXStoneValidators.h"
#import "DBXTEAMBaseDfbReport.h"
#import "DBXTEAMGetStorageReport.h"
#import "DBXTEAMStorageBucket.h"

@implementation DBXTEAMGetStorageReport 

- (instancetype)initWithStartDate:(NSString *)startDate totalUsage:(NSArray<NSNumber *> *)totalUsage sharedUsage:(NSArray<NSNumber *> *)sharedUsage unsharedUsage:(NSArray<NSNumber *> *)unsharedUsage sharedFolders:(NSArray<NSNumber *> *)sharedFolders memberStorageMap:(NSArray<NSArray<DBXTEAMStorageBucket *> *> *)memberStorageMap {
    [DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil](totalUsage);
    [DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil](sharedUsage);
    [DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil](unsharedUsage);
    [DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil](sharedFolders);
    [DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:[DBXStoneValidators arrayValidator:nil maxItems:nil itemValidator:nil]](memberStorageMap);

    self = [super initWithStartDate:startDate];
    if (self != nil) {
        _totalUsage = totalUsage;
        _sharedUsage = sharedUsage;
        _unsharedUsage = unsharedUsage;
        _sharedFolders = sharedFolders;
        _memberStorageMap = memberStorageMap;
    }
    return self;
}

+ (NSDictionary *)serialize:(id)obj {
    return [DBXTEAMGetStorageReportSerializer serialize:obj];
}

+ (id)deserialize:(NSDictionary *)dict {
    return [DBXTEAMGetStorageReportSerializer deserialize:dict];
}

- (NSString *)description {
    return [[DBXTEAMGetStorageReportSerializer serialize:self] description];
}

@end


@implementation DBXTEAMGetStorageReportSerializer 

+ (NSDictionary *)serialize:(DBXTEAMGetStorageReport *)valueObj {
    NSMutableDictionary *jsonDict = [[NSMutableDictionary alloc] init];

    jsonDict[@"start_date"] = valueObj.startDate;
    jsonDict[@"total_usage"] = [DBXArraySerializer serialize:valueObj.totalUsage withBlock:^id(id elem) { return elem; }];
    jsonDict[@"shared_usage"] = [DBXArraySerializer serialize:valueObj.sharedUsage withBlock:^id(id elem) { return elem; }];
    jsonDict[@"unshared_usage"] = [DBXArraySerializer serialize:valueObj.unsharedUsage withBlock:^id(id elem) { return elem; }];
    jsonDict[@"shared_folders"] = [DBXArraySerializer serialize:valueObj.sharedFolders withBlock:^id(id elem) { return elem; }];
    jsonDict[@"member_storage_map"] = [DBXArraySerializer serialize:valueObj.memberStorageMap withBlock:^id(id elem) { return [DBXArraySerializer serialize:elem withBlock:^id(id elem) { return [DBXTEAMStorageBucketSerializer serialize:elem]; }]; }];

    return jsonDict;
}

+ (DBXTEAMGetStorageReport *)deserialize:(NSDictionary *)valueDict {
    NSString *startDate = valueDict[@"start_date"];
    NSArray<NSNumber *> *totalUsage = [DBXArraySerializer deserialize:valueDict[@"total_usage"] withBlock:^id(id elem) { return elem; }];
    NSArray<NSNumber *> *sharedUsage = [DBXArraySerializer deserialize:valueDict[@"shared_usage"] withBlock:^id(id elem) { return elem; }];
    NSArray<NSNumber *> *unsharedUsage = [DBXArraySerializer deserialize:valueDict[@"unshared_usage"] withBlock:^id(id elem) { return elem; }];
    NSArray<NSNumber *> *sharedFolders = [DBXArraySerializer deserialize:valueDict[@"shared_folders"] withBlock:^id(id elem) { return elem; }];
    NSArray<NSArray<DBXTEAMStorageBucket *> *> *memberStorageMap = [DBXArraySerializer deserialize:valueDict[@"member_storage_map"] withBlock:^id(id elem) { return [DBXArraySerializer deserialize:elem withBlock:^id(id elem) { return [DBXTEAMStorageBucketSerializer deserialize:elem]; }]; }];

    return [[DBXTEAMGetStorageReport alloc] initWithStartDate:startDate totalUsage:totalUsage sharedUsage:sharedUsage unsharedUsage:unsharedUsage sharedFolders:sharedFolders memberStorageMap:memberStorageMap];
}

@end
